# Предсказание порока сердца

## Требования для запуска

1. Python 3.7 или выше.
2. Git LFS (исходные данные хранятся в LFS).

## Как запустить

Установить зависимости:
```
pip install -r requirements.txt
```
или если нужны доп. зависимости для тестов и т. п.
```
pip install -r requirements.dev.txt
```

### Исследовательский анализа данных

Для получения отчёта в формате html:
```
dvc repro generate-report
```

В Jupyter notebook есть базовый анализ и прототип.

Путь для сгенерированного отчёта по умолчанию: `./data/report/eda.html`

### Обучение моделей

Для обучения логистической регрессии:
```
dvc repro train-log-reg
```

Для обучения метода опорных векторов:
```
dvc repro train-svc
```
### Получение предсказаний на test

```
dvc repro log-reg-predict
```

### Оценка метрик

После обучения моделей можно посмотреть на метрики:
```
dvc metrics show
```

Для построения "матрицы ошибок" (confusion matrix) при кросс-валидации:
```
dvc plots show ./data/train/log_reg/conf_matrix.csv --template confusion -x actual -y predicted
```
Сгенериуется html страница, которую можно открыть в браузере.


Все стадии можно посмотреть через команду:
```
dvc dag
```

В директории `configs` хранятся конфигурационные файлы с помощью которых можно менять процесс обучения. Например, в `./configs/train/train_log_reg.yaml` хранится конфигурационный файл для обучения логистической регрессии. В нём можно менять параметры модели, а также используемые признаки и то как они предобрабатываются.

### Запуск тестов

```
python -m pytest ./tests
```



